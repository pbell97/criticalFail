<!DOCTYPE html>
<html lang="en">
<head>
    <title>Critical Fail</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="mainPage.css">
    <link rel="stylesheet" href="critFail.css">
    <script src="mainPage.js"></script>
    <!-- for AJAX -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body style="background-color: black">

    <!-- This container exists on Title and Main screens -->
    <div id="logoContainer"></div>

    <!-- This is a Title screen only element -->
    <div id="subtitle">
        <p> Press any key to continue... </p>
    </div>

    <!-- Contains Campaign-related buttons -->
    <div id="topRowContainer">
        <div class="row">
            <div class="column">
                <a href="campaignCreation.html">
                    <button class="button">Create Campaign</button>
                </a>
            </div>
            <div class="column">
                <a href="http://www.isitchristmas.com">
                    <button class="button">Join Campaign</button>
                </a>
            </div>
            <div class="column">
                <a href="observerPage.html">
                    <button class="button">Observe Campaign</button>
                </a>
            </div>
        </div>
    </div>

    <!-- Contains smaller buttons -->
    <div id="bottomRowContainer">
        <div class="row">
            <button id="loginButton" class="button bottomButton" onclick="openLoginModal()">Login</button>

            <button id="faqButton" class="button bottomButton" onclick="openFAQ()">FAQ</button>
        </div>
    </div>

    <!-- Hidden modal to be used if User tries to login -->
    <div id="loginModal" class="modal">
        <div id="loginContent" class="modalContent">
            <label class="modalClose">
                <span class="close">&times;</span>
                <!-- don't remove these or it will look really bad -->
                <br><br>
            </label>
            <label><b>Username:</b></label>
                <input type="text" name="username" placeholder="Enter Username" required> <br>
            <label><b>Password:</b></label>
                <input type="password" name="password" placeholder="Enter Password" required> <br>
            <p style="color:maroon" id="errorMessage"></p>
            <!-- Change onclick method to one that checks credentials
                may be good to make a way of refilling data fields -->
            <!-- replace with login() when that's finished -->
            <input type="submit" value="Submit" class="button submitButton" onclick="closeLoginModal()">
        </div>
    </div>

    <!-- Hidden overlay that contains a few FAQs about the site -->
    <!-- Info may need editing, wasn't sure on some of this -BAC -->
    <div id="FAQinfo" class="modal" onclick="closeFAQ()">
        <div id="FAQContent" class="modalContent">
            <p> FAQ </p>
            <p> Q: What is Critical Fail? </p>
            <p> A: Critical Fail is a web application used to simulate your favorite role-playing games online. This includes dice functionality and viewable character stats. </p>
            <p> Q: How can I create a new campaign? </p>
            <p> A: Game Masters can select the Create Campaign button to generate the chat room and the campaign ID which they can then distribute to other players. </p>
            <p> Q: How can I join a campaign? </p>
            <p> A: Campaigns can be joined by selecting the Join Campaign button and entering a campaign ID which is provided outside the game. </p>
            <p> Q: How do I resume my current campaign? </p>
            <p> A: Games can be resumed by logging in using the username and password which was used to access that campaign initially. </p>
            <p> Q: Can I watch campaigns without joining in? </p>
            <p> A: By clicking the Observe Campaign button you can access a list of all the campaigns. By selecting the Join button next to the campaign, you can view the campaign. Note that this option does not allow for the chat functionality. </p>
            <p> Q: How do I exit the FAQ screen? </p>
            <p> A: Click anywhere within the browser window. </p>
        </div>
    </div>

</body>

<!-- Add event listeners to handle Title screen clicks -->
<script>
    var body = document.getElementsByTagName("body")[0];
    body.addEventListener("click", goToMainPage);
    body.addEventListener("keypress", goToMainPage);
</script>

<script>
    // Get the modal
    var modal = document.getElementById('loginModal');
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }
</script>

</html>
